import{useState as r,useEffect as t}from"react";import n from"colorthief/dist/color-thief.mjs";var e=function(r,t,n){var e=function(r){return r.toString(16).padStart(2,"0")};return"#"+e(r)+e(t)+e(n)};export default function(o,i){var c=void 0===i?{}:i,u=c.format,a=void 0===u?"rgb":u,f=c.quality,l=void 0===f?10:f,v=c.colorCount,s=void 0===v?10:v,d=r(""),m=d[0],p=d[1],g=r({color:null,palette:null}),y=g[0],h=g[1];return t(function(){if(o){if(o.current&&o.current instanceof HTMLImageElement&&o.current.src!==window.location.href){var r=function(){o.current.src&&p(o.current.src)};r();var t=new MutationObserver(r);return t.observe(o.current,{attributes:!0}),function(){t.disconnect()}}"string"==typeof o&&o.length&&p(o)}return function(){}},[o]),t(function(){var r=!0;if(m){var t=new Image;t.crossOrigin="anonymous",t.referrerPolicy="no-referrer",t.addEventListener("load",function o(){if(r){var i=new n,c=i.getColor(t,l),u=i.getPalette(t,s,l);"hex"===a&&(c=e.apply(void 0,c),u=u.map(function(r){return e.apply(void 0,r)})),h({color:c,palette:u}),t.removeEventListener("load",o)}}),t.src=m}return function(){r=!1}},[m,s,l,a]),y}
//# sourceMappingURL=use-color-thief.esm.js.map
