import{useState as r,useEffect as t}from"react";import e from"colorthief";var n;!function(r){r.rgb="rgb",r.hex="hex"}(n||(n={}));var o=function(r,t,e){var n=function(r){return r.toString(16).padStart(2,"0")};return"#"+n(r)+n(t)+n(e)};export default function(n,i){var a=i.format,c=void 0===a?"rgb":a,u=i.quality,f=void 0===u?10:u,l=i.colorCount,v=void 0===l?10:l,s=r(""),d=s[0],g=s[1],m=r({color:null,palette:null}),p=m[0],b=m[1];return t(function(){if(n)if("string"==typeof n&&n.length)g(n);else{var r=n.current;if(r&&r instanceof HTMLImageElement&&r.src!==window.location.href){var t=function(){r.src&&g(r.src)};t();var e=new MutationObserver(t);return e.observe(r,{attributes:!0}),function(){e.disconnect()}}}return function(){}},[n]),t(function(){var r=!0;if(d){var t=new Image;t.crossOrigin="anonymous",t.referrerPolicy="no-referrer",t.addEventListener("load",function n(){if(r){var i=new e,a=i.getColor(t,f),u=i.getPalette(t,v,f);"hex"===c&&(a=o(a[0],a[1],a[2]),u=u.map(function(r){return o(r[0],r[1],r[2])})),b({color:a,palette:u}),t.removeEventListener("load",n)}}),t.src=d}return function(){r=!1}},[d,v,f,c]),p}export{n as FormatString};
//# sourceMappingURL=use-color-thief.esm.js.map
