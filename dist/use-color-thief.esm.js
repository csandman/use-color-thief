import{useState as r,useEffect as t}from"react";import n from"colorthief";var e=function(r,t,n){var e=function(r){return r.toString(16).padStart(2,"0")};return"#"+e(r)+e(t)+e(n)};export default function(o,i){var a=i.format,c=void 0===a?"rgb":a,u=i.quality,f=void 0===u?10:u,l=i.colorCount,v=void 0===l?10:l,s=r(""),d=s[0],m=s[1],g=r({color:null,palette:null}),p=g[0],w=g[1];return t(function(){if(o)if("string"==typeof o&&o.length)m(o);else{var r=o.current;if(r&&r instanceof HTMLImageElement&&r.src!==window.location.href){var t=function(){r.src&&m(r.src)};t();var n=new MutationObserver(t);return n.observe(r,{attributes:!0}),function(){n.disconnect()}}}return function(){}},[o]),t(function(){var r=!0;if(d){var t=new Image;t.crossOrigin="anonymous",t.referrerPolicy="no-referrer",t.addEventListener("load",function o(){if(r){var i=new n,a=i.getColor(t,f),u=i.getPalette(t,v,f);"hex"===c&&(a=e(a[0],a[1],a[2]),u=u.map(function(r){return e(r[0],r[1],r[2])})),w({color:a,palette:u}),t.removeEventListener("load",o)}}),t.src=d}return function(){r=!1}},[d,v,f,c]),p}
//# sourceMappingURL=use-color-thief.esm.js.map
