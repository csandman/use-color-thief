var e=require("react");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=r(require("colorthief")),n=function(e,r,t){var n=function(e){return e.toString(16).padStart(2,"0")};return"#"+n(e)+n(r)+n(t)};module.exports=function(r,o){var i=o.format,u=void 0===i?"rgb":i,a=o.quality,f=void 0===a?10:a,c=o.colorCount,l=void 0===c?10:c,s=e.useState(""),v=s[0],d=s[1],g=e.useState({color:null,palette:null}),m=g[0],p=g[1];return e.useEffect(function(){if(r)if("string"==typeof r&&r.length)d(r);else{var e=r.current;if(e&&e instanceof HTMLImageElement&&e.src!==window.location.href){var t=function(){e.src&&d(e.src)};t();var n=new MutationObserver(t);return n.observe(e,{attributes:!0}),function(){n.disconnect()}}}return function(){}},[r]),e.useEffect(function(){var e=!0;if(v){var r=new Image;r.crossOrigin="anonymous",r.referrerPolicy="no-referrer",r.addEventListener("load",function o(){if(e){var i=new t.default,a=i.getColor(r,f),c=i.getPalette(r,l,f);"hex"===u&&(a=n(a[0],a[1],a[2]),c=c.map(function(e){return n(e[0],e[1],e[2])})),p({color:a,palette:c}),r.removeEventListener("load",o)}}),r.src=v}return function(){e=!1}},[v,l,f,u]),m};
//# sourceMappingURL=use-color-thief.js.map
