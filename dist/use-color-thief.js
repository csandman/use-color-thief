var r=require("react");function e(r){return r&&"object"==typeof r&&"default"in r?r:{default:r}}var t,n=e(require("colorthief"));exports.FormatString=void 0,(t=exports.FormatString||(exports.FormatString={})).rgb="rgb",t.hex="hex";var o=function(r,e,t){var n=function(r){return r.toString(16).padStart(2,"0")};return"#"+n(r)+n(e)+n(t)};exports.default=function(e,t){var i=t.format,a=void 0===i?"rgb":i,u=t.quality,f=void 0===u?10:u,c=t.colorCount,l=void 0===c?10:c,s=r.useState(""),v=s[0],d=s[1],g=r.useState({color:null,palette:null}),m=g[0],p=g[1];return r.useEffect(function(){if(e)if("string"==typeof e&&e.length)d(e);else{var r=e.current;if(r&&r instanceof HTMLImageElement&&r.src!==window.location.href){var t=function(){r.src&&d(r.src)};t();var n=new MutationObserver(t);return n.observe(r,{attributes:!0}),function(){n.disconnect()}}}return function(){}},[e]),r.useEffect(function(){var r=!0;if(v){var e=new Image;e.crossOrigin="anonymous",e.referrerPolicy="no-referrer",e.addEventListener("load",function t(){if(r){var i=new n.default,u=i.getColor(e,f),c=i.getPalette(e,l,f);"hex"===a&&(u=o(u[0],u[1],u[2]),c=c.map(function(r){return o(r[0],r[1],r[2])})),p({color:u,palette:c}),e.removeEventListener("load",t)}}),e.src=v}return function(){r=!1}},[v,l,f,a]),m};
//# sourceMappingURL=use-color-thief.js.map
