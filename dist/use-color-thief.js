var e=require("react");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=r(require("colorthief/dist/color-thief.mjs")),n=function(e,r,t){var n=function(e){return e.toString(16).padStart(2,"0")};return"#"+n(e)+n(r)+n(t)};module.exports=function(r,o){var u=void 0===o?{}:o,i=u.format,c=void 0===i?"rgb":i,a=u.quality,f=void 0===a?10:a,l=u.colorCount,s=void 0===l?10:l,v=e.useState(""),d=v[0],p=v[1],g=e.useState({color:null,palette:null}),m=g[0],y=g[1];return e.useEffect(function(){if(r){if(r.current&&r.current instanceof HTMLImageElement&&r.current.src!==window.location.href){var e=function(){r.current.src&&p(r.current.src)};e();var t=new MutationObserver(e);return t.observe(r.current,{attributes:!0}),function(){t.disconnect()}}"string"==typeof r&&r.length&&p(r)}return function(){}},[r]),e.useEffect(function(){var e=!0;if(d){var r=new Image;r.crossOrigin="anonymous",r.referrerPolicy="no-referrer",r.addEventListener("load",function o(){if(e){var u=new t.default,i=u.getColor(r,f),a=u.getPalette(r,s,f);"hex"===c&&(i=n.apply(void 0,i),a=a.map(function(e){return n.apply(void 0,e)})),y({color:i,palette:a}),r.removeEventListener("load",o)}}),r.src=d}return function(){e=!1}},[d,s,f,c]),m};
//# sourceMappingURL=use-color-thief.js.map
