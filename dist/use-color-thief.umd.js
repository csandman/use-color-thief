!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("colorthief")):"function"==typeof define&&define.amd?define(["react","colorthief"],t):(e||self).useColorThief=t(e.react,e.colorthief)}(this,function(e,t){function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(t),o=function(e,t,n){var r=function(e){return e.toString(16).padStart(2,"0")};return"#"+r(e)+r(t)+r(n)};return function(t,n){var i=n.format,f=void 0===i?"rgb":i,u=n.quality,c=void 0===u?10:u,a=n.colorCount,l=void 0===a?10:a,s=e.useState(""),d=s[0],v=s[1],p=e.useState({color:null,palette:null}),g=p[0],h=p[1];return e.useEffect(function(){if(t)if("string"==typeof t&&t.length)v(t);else{var e=t.current;if(e&&e instanceof HTMLImageElement&&e.src!==window.location.href){var n=function(){e.src&&v(e.src)};n();var r=new MutationObserver(n);return r.observe(e,{attributes:!0}),function(){r.disconnect()}}}return function(){}},[t]),e.useEffect(function(){var e=!0;if(d){var t=new Image;t.crossOrigin="anonymous",t.referrerPolicy="no-referrer",t.addEventListener("load",function n(){if(e){var i=new r.default,u=i.getColor(t,c),a=i.getPalette(t,l,c);"hex"===f&&(u=o(u[0],u[1],u[2]),a=a.map(function(e){return o(e[0],e[1],e[2])})),h({color:u,palette:a}),t.removeEventListener("load",n)}}),t.src=d}return function(){e=!1}},[d,l,c,f]),g}});
//# sourceMappingURL=use-color-thief.umd.js.map
