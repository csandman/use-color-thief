!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("colorthief/dist/color-thief.mjs")):"function"==typeof define&&define.amd?define(["react","colorthief/dist/color-thief.mjs"],t):(e||self).useColorThief=t(e.react,e.ColorThief)}(this,function(e,t){function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=r(t),n=function(e,t,r){var o=function(e){return e.toString(16).padStart(2,"0")};return"#"+o(e)+o(t)+o(r)};return function(t,r){var i=void 0===r?{}:r,c=i.format,f=void 0===c?"rgb":c,u=i.quality,l=void 0===u?10:u,a=i.colorCount,s=void 0===a?10:a,d=e.useState(""),v=d[0],g=d[1],p=e.useState({color:null,palette:null}),h=p[0],m=p[1];return e.useEffect(function(){if(console.log("Fired source effect",t),t){if(t.current&&t.current instanceof HTMLImageElement&&t.current.src!==window.location.href){var e=function(){console.log("setCurrentSrc"),t.current.src&&g(t.current.src)};e();var r=new MutationObserver(e);return r.observe(t.current,{attributes:!0}),function(){r.disconnect()}}"string"==typeof t&&t.length&&g(t)}return function(){}},[t]),e.useEffect(function(){console.log("Fired url effect",v);var e=!0;if(v){console.log("URL is defined:",v);var t=new Image;t.crossOrigin="anonymous",t.referrerPolicy="no-referrer",t.addEventListener("load",function r(){if(console.log("handleImageLoad"),e){var i=new o.default,c=i.getColor(t,l),u=i.getPalette(t,s,l);"hex"===f&&(c=n.apply(void 0,c),u=u.map(function(e){return n.apply(void 0,e)})),m({color:c,palette:u}),t.removeEventListener("load",r)}}),t.src=v}return function(){e=!1}},[v,s,l,f]),h}});
//# sourceMappingURL=use-color-thief.umd.js.map
